---
sidebar_position: 5
---

# Upgrading

This guide provides incremental upgrade paths for recent major versions.

## Upgrading to v10

DayPicker v10 removes all APIs that were deprecated in v9.

:::note Easy Upgrade Path
For most apps, upgrading from v9 to v10 is mostly mechanical.

The main behavior change for non-deprecated APIs is `navLayout`: when omitted, it now defaults to `"after"`.
:::

### 1. Upgrade the package

```bash npm2yarn
npm install react-day-picker@latest
```

### 2. Replace removed navigation props

| Removed prop | Use instead |
| --- | --- |
| `fromMonth` | [`startMonth`](./api/interfaces/PropsBase#startmonth) |
| `fromYear` | [`startMonth`](./api/interfaces/PropsBase#startmonth) |
| `toMonth` | [`endMonth`](./api/interfaces/PropsBase#endmonth) |
| `toYear` | [`endMonth`](./api/interfaces/PropsBase#endmonth) |
| `fromDate` | [`hidden`](./api/interfaces/PropsBase#hidden) with a `before` matcher, and optionally [`startMonth`](./api/interfaces/PropsBase#startmonth) |
| `toDate` | [`hidden`](./api/interfaces/PropsBase#hidden) with an `after` matcher, and optionally [`endMonth`](./api/interfaces/PropsBase#endmonth) |

```diff
<DayPicker
- fromYear={2010}
- toYear={2021}
+ startMonth={new Date(2010, 0)}
+ endMonth={new Date(2021, 11)}
/>
```

```diff
<DayPicker
- fromDate={new Date(2010, 11, 3)}
+ startMonth={new Date(2010, 11)}
+ hidden={{ before: new Date(2010, 11, 3) }}
/>
```

### 3. Replace removed focus and event props

| Removed prop | Use instead |
| --- | --- |
| `initialFocus` | [`autoFocus`](./api/interfaces/PropsBase#autofocus) |
| `onWeekNumberClick` | Custom [`WeekNumber`](./api/functions/WeekNumber) component |
| `onDayKeyUp`<br/>`onDayKeyPress`<br/>`onDayPointerEnter`<br/>`onDayPointerLeave`<br/>`onDayTouchCancel`<br/>`onDayTouchEnd`<br/>`onDayTouchMove`<br/>`onDayTouchStart` | Custom [`DayButton`](./api/functions/DayButton) component with the DOM handlers you need |

### 4. Replace removed formatter and label aliases

| Removed API | Use instead |
| --- | --- |
| `formatMonthCaption` | [`formatCaption`](./api/functions/formatCaption) |
| `formatYearCaption` | [`formatYearDropdown`](./api/functions/formatYearDropdown) |
| `labelDay` | [`labelDayButton`](./api/functions/labelDayButton) |
| `labelCaption` | [`labelGrid`](./api/functions/labelGrid) |

### 5. Replace removed utility aliases

| Removed API | Use instead |
| --- | --- |
| `isMatch` | [`dateMatchModifiers`](./api/functions/dateMatchModifiers) |
| `isDateInRange` | [`rangeIncludesDate`](./api/functions/rangeIncludesDate) |

### 6. Update custom components

The `components.Button` entry was removed.

Use [`components.PreviousMonthButton`](./api/type-aliases/CustomComponents#previousmonthbutton) and [`components.NextMonthButton`](./api/type-aliases/CustomComponents#nextmonthbutton) instead.

```diff
<DayPicker
  components={{
-   Button: MyButton
+   PreviousMonthButton: MyPreviousButton,
+   NextMonthButton: MyNextButton
  }}
/>
```

### 7. Update `classNames` and `styles` keys

The `DeprecatedUI` compatibility keys were removed from `classNames` and `styles`.

Use only current keys from [`UI`](./api/enumerations/UI#enumeration-members), [`DayFlag`](./api/enumerations/DayFlag#enumeration-members), [`SelectionState`](./api/enumerations/SelectionState#enumeration-members), and [`Animation`](./api/enumerations/Animation#enumeration-members).

### 8. Update imports

Removed imports:

- `react-day-picker/jalali` (use `react-day-picker/persian`)
- Deprecated aliases from `types/deprecated`
- `dateLib`, `FormatOptions`, and `LabelOptions` from [`DateLib`](./api/classes/DateLib)

### 9. Review `navLayout` default behavior

In v10, omitting [`navLayout`](./api/interfaces/PropsBase#navlayout) is equivalent to `navLayout="after"`.

If you previously relied on leaving `navLayout` undefined, check:

- navigation button placement
- focus order and keyboard navigation sequence
- tests and snapshots that assert DOM order or `data-nav-layout` attributes

To keep behavior explicit and stable across upgrades, set `navLayout` directly to `"after"` or `"around"`.

### 10. Verify `shadcn/ui` Calendar compatibility

`shadcn/ui` scaffolds a `Calendar` wrapper into your app (usually `calendar.tsx`), so compatibility depends on your local file version in each project.

- Newer `shadcn/ui` templates that already use DayPicker v9+ APIs (for example `Chevron`, `button_previous`, `button_next`, `day_button`, and `month_grid`) should work with v10.
- Older copied wrappers may still use removed deprecated props or class key aliases and need manual updates.

When migrating older copied wrappers, check for:

- removed props such as `initialFocus`, `fromMonth`, `toMonth`, `fromYear`, and `toYear`
- removed class key aliases such as `table`, `nav_button`, `day_selected`, and `day_disabled`
- removed component or formatter aliases such as `components.Button`, `formatMonthCaption`, and `formatYearCaption`

## Upgrading to v9

This release included significant updates related to accessibility, styles, internationalization, and performance. See the [changelog](./changelog.mdx) for the full list of changes.

### Upgrading from v7

If you are upgrading from v7, first read the [migration guide from v7 to v8](/v8/upgrading), then follow the steps below.

### 1. Upgrade the package

```bash npm2yarn
npm install react-day-picker@latest
```

If you are not using `date-fns` directly in your code (for example, when using a [different locale](./localization/changing-locale.mdx)), remove it from your dependencies:

```bash npm2yarn
npm remove date-fns
```

### 2. Update your custom styles

The default design changed slightly in v9. You may need to adjust DayPicker to match your design. See the [styling docs](./docs/styling.mdx) for more information.

### 3. Add `onSelect` when using `selected`

The `selected` prop is controlled. Add an `onSelect` prop to handle selection state in your component.

```diff
+ const [selected, setSelected] = useState<Date | undefined>(undefined);
  <DayPicker
    mode="single"
    selected={selected}
+   onSelect={setSelected}
  />
```

### 4. Update class names

Class names for UI elements changed in v9. If you use custom styles via `classNames` or `styles`, update those keys.

For example, `day_disabled` became `disabled`:

```diff
 <DayPicker
   classNames={{
-    day_disabled: 'day-disabled',
+    disabled: 'day-disabled',
   }}
 />
```

Additionally, the previous `day` key became `day_button`, and `cell` became `day`:

```diff
 <DayPicker
   classNames={{
-    cell: 'day-cell',
+    day: 'day-cell',
-    day: 'day-button',
+    day_button: 'day-button',
   }}
 />
```

See the current class name keys in the [`UI`](./api/enumerations/UI.md) enum.
<details>
  <summary>**List of Updated Class Names**</summary>

| Old Name              | New Name                                                   |
| --------------------- | ---------------------------------------------------------- |
| `button`              | `button_previous`, `button_next`                           |
| `button_reset`        | `button_previous`, `button_next`                           |
| `caption`             | `month_caption`                                            |
| `caption_between`     | Removed                                                    |
| `caption_dropdowns`   | `dropdowns`                                                |
| `caption_end`         | Removed                                                    |
| `caption_start`       | Removed                                                    |
| `cell`                | `day` - The previous `day` element is now `day_button`.   |
| `day_disabled`        | `disabled`                                                 |
| `day_hidden`          | `hidden`                                                   |
| `day_outside`         | `outside`                                                  |
| `day_range_end`       | `range_end`                                                |
| `day_range_middle`    | `range_middle`                                             |
| `day_range_start`     | `range_start`                                              |
| `day_selected`        | `selected`                                                 |
| `day_today`           | `today`                                                    |
| `dropdown_icon`       | `chevron`                                                  |
| `dropdown_month`      | `months_dropdown`                                          |
| `dropdown_year`       | `years_dropdown`                                           |
| `head`                | Removed                                                    |
| `head_cell`           | `weekday`                                                  |
| `head_row`            | `weekdays`                                                 |
| `multiple_months`     | Removed. Use `data-multiple-months` data attribute.        |
| `nav_button`          | `button_previous`, `button_next`                           |
| `nav_button_next`     | `button_next`                                              |
| `nav_button_previous` | `button_previous`                                          |
| `nav_icon`            | `chevron`, `button_next`, `button_previous`                |
| `row`                 | `week`                                                     |
| `table`               | `month_grid`                                               |
| `tbody`               | `weeks`                                                    |
| `tfoot`               | `footer`                                                   |
| `vhidden`             | Removed                                                    |
| `weeknumber`          | `week_number`                                              |
| `with_weeknumber`     | Removed. Use `data-week-numbers` data attribute.           |

</details>

### 5. Replace `fromDate` and `toDate`

Replace `fromDate` and `toDate` with `hidden`, `startMonth`, and `endMonth`.

Example: replace `fromDate`:

```diff
 <DayPicker
-   fromDate={new Date(2010, 11, 03)}
+   startMonth={new Date(2010, 11)}
+   hidden={[{ before: new Date(2010, 11, 03) }]}
 />
```

Example: replace `toDate`:

```diff
 <DayPicker
-   toDate={new Date(2010, 11, 03)}
+   endMonth={new Date(2010, 11)}
+   hidden={[{ after: new Date(2010, 11, 03) }]}
 />
```

### 6. Update tests and translations

ARIA labels were updated in v9 for clarity. Update tests and translations accordingly.

| Label                                              | Old Label                | New Label                                                                                     |
| -------------------------------------------------- | ------------------------ | --------------------------------------------------------------------------------------------- |
| `labelDayButton` (previously `labelDay`)          | `21st November (Monday)` | `Monday, November 21st, 2024` and variants for selected/today                                |
| [`labelPrevious`](./api/functions/labelPrevious)  | `Go to previous month`   | `Go to the Previous Month`                                                                    |
| [`labelNext`](./api/functions/labelNext)          | `Go to next month`       | `Go to the Next Month`                                                                        |
| [`labelWeekNumber`](./api/functions/labelWeekNumber) | `Week nr. ##`            | `Week ##`                                                                                     |

Update selectors as needed:

```diff
- screen.getByRole('button', 'Go to next month');
+ screen.getByRole('button', 'Go to the Next Month');
```

### 7. Update formatters to return a string

Formatters return a `string` instead of a `ReactNode`.

```diff
  <DayPicker
    formatters={{
-      formatCaption: (month) => <strong>{format(month, "LLLL y")}</strong>
+      formatCaption: (month) => format(month, "LLLL y")
    }}
  />;
```

If you need a React element, use a custom component:

```tsx
<DayPicker
  formatters={{
    formatCaption: (month) => format(month, "LLLL y"),
  }}
  components={{
    Caption: ({ children }) => <strong>{children}</strong>,
  }}
/>
```

### 8. Update custom components

If you use the `components` prop, update your code as some components changed in v9.

```diff
  <DayPicker
    components={{
-     IconRight: MyRightIcon,
-     IconLeft: MyLeftIcon,
+     Chevron: (props) => {
+       if (props.orientation === "left") {
+         return <ChevronLeftIcon {...props} />;
+       }
+       return <ChevronRightIcon {...props} />;
+     },
    }}
  />
```

<details>
  <summary>**List of Updated Components**</summary>

| Component      | Changes                                                                     |
| -------------- | --------------------------------------------------------------------------- |
| `Caption`      | Renamed to [`MonthCaption`](./api/functions/MonthCaption).                  |
| `Day`          | Now renders a [`DayButton`](./api/functions/DayButton).                     |
| `DayContent`   | Removed. Use [`formatDay`](./api/functions/formatDay) to change content.    |
| `Head`         | Removed.                                                                    |
| `HeadRow`      | Renamed to [`Weekdays`](./api/functions/Weekdays).                          |
| `IconDropdown` | Removed. The icon is rendered by [`Chevron`](./api/functions/Chevron).      |
| `IconLeft`     | Removed. The icon is rendered by [`Chevron`](./api/functions/Chevron).      |
| `IconRight`    | Removed. The icon is rendered by [`Chevron`](./api/functions/Chevron).      |
| `Row`          | Renamed to [`Week`](./api/functions/Week).                                  |

</details>

### v9 deprecations removed in v10

The v9 deprecations listed below were removed in v10:

| Deprecated Prop | Replacement  | Notes                                            |
| --------------- | ------------ | ------------------------------------------------ |
| `fromMonth`     | `startMonth` | Renamed. The start month for the navigation.     |
| `toMonth`       | `endMonth`   | Renamed. The end month for the navigation.       |
| `fromYear`      | `startMonth` | Pass the first month of the year to `startMonth` |
| `toYear`        | `endMonth`   | Pass the last month of the year to `endMonth`    |

```diff
  <DayPicker
-   fromYear={2010}
+   startMonth={new Date(2010, 0)}
-   toYear={2021}
+   endMonth={new Date(2021, 11)}
  />
```

For TypeScript users, deprecated aliases from `types/deprecated` are also removed in v10.

## Upgrading to v8

DayPicker v8 was a major upgrade with new props and styles.

### Upgrading from v7

If you are upgrading from v7 to v8, follow the steps below.

### 1. Upgrade the package

DayPicker v8 requires `date-fns` as a peer dependency.

```bash npm2yarn
npm install react-day-picker@8 date-fns
```

### 2. Remove the legacy types package

If your project used the old DefinitelyTyped package, remove it:

```bash npm2yarn
npm uninstall @types/react-day-picker
```

### 3. Update the CSS import

```diff
- import "react-day-picker/lib/style.css"
+ import "react-day-picker/dist/style.css"
```

### 4. Update your custom styles

Review your styles against the v8 styling model in the [v8 styling guide](/v8/using-daypicker/styling).

### 5. Update changed props

| v7 prop | v8 replacement |
| --- | --- |
| `showWeekNumbers` | [`showWeekNumber`](./api/interfaces/PropsBase#showweeknumber) |
| `todayButton` | Removed (implement via controlled navigation) |
| `initialMonth` | [`defaultMonth`](./api/interfaces/PropsBase#defaultmonth) |
| `canChangeMonth` | [`disableNavigation`](./api/interfaces/PropsBase#disablenavigation) |
| `selectedDays` | [`selected`](./api/interfaces/PropsSingle#selected) |
| `disabledDays` | [`disabled`](./api/interfaces/PropsBase#disabled) |

### 6. Replace `DateUtils` usage

Use `date-fns` utilities instead of `DateUtils`.

If you used `addDayToRange`, replace it with [`addToRange`](/v8/api/functions/addToRange) in v8.

### 7. Verify ISO week behavior

In v8, week calculations follow locale settings by default.

If you need ISO week behavior, use the `ISOWeek` prop.

### 8. Replace removed `DayPickerInput`

`DayPickerInput` was removed in v8 and requires a custom implementation.

- See the [Input Fields guide in v8 docs](/v8/advanced-guides/input-fields)
- [`useInput`](/v8/api/functions/useInput) was deprecated in v8.10.0
