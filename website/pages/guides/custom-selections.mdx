import { getSrc } from '@utils/getSrc';

export const getStaticProps = () =>
  getSrc(['CustomMultiple.tsx', 'CustomSingle.tsx']);

# Custom Selections

import { Callout } from 'nextra/components';

<Callout emoji="ðŸš§">
  This section is still under construction. If you need help, please reach out
  the maintainers in the [discussion
  page](https://github.com/gpbl/react-day-picker/discussions) on GitHub.
</Callout>

If the built-in selection modes are not enough for your appâ€™s requirements, you can control the selection behavior using `onDayClick` and passing the a custom `selected` matcher to the `modifiers` prop:

### Entering a Custom Selection Mode

To implement a custom selection mode, pass to DayPicker a `selected` modifier and define the selection behavior using `onDayClick`:

```tsx filename="App.tsx" showLineNumbers
function App() {
  /** A function returning if `date` is selected or not. */
  const matcher = (date) => isDateSelected(date);

  /** A function handling the day click. */
  const handleDayClick = (date) => saveInState(date);

  return (
    <DayPicker
      modifiers={{
        selected: matcher
      }}
      onDayClick={(date) => handleDayClick(date)}
    />
  );
}
```

## Examples

### Custom Single Mode

For example, to implement the "single selection" behavior â€“ like when `mode="single"{:tsx}`:

```tsx example fileName="CustomSingle.tsx"
import { DayPicker } from 'react-day-picker';

import { useState } from 'react';

export function CustomSingle() {
  const [selectedDate, setSelectedDate] = useState<Date | undefined>();

  return (
    <DayPicker
      modifiers={{
        selected: selectedDate
      }}
      onDayClick={(day, modifiers) => {
        if (modifiers.selected) {
          setSelectedDate(undefined);
        } else {
          setSelectedDate(day);
        }
      }}
      footer={selectedDate && `You selected ${selectedDate.toDateString()}`}
    />
  );
}
```

### Custom Multi Selections

The example below shows a custom selection mode that allows to select multiple days.

```tsx example fileName="CustomMultiple.tsx"
import { DayMouseEventHandler, DayPicker } from 'react-day-picker';

import { isSameDay } from 'date-fns';
import { useState } from 'react';

export function CustomMultiple() {
  const [value, setValue] = useState<Date[]>([]);

  const handleDayClick: DayMouseEventHandler = (day, modifiers) => {
    const newValue = [...value];
    if (modifiers.selected) {
      const index = value.findIndex((d) => isSameDay(day, d));
      newValue.splice(index, 1);
    } else {
      newValue.push(day);
    }
    setValue(newValue);
  };

  const handleResetClick = () => setValue([]);

  let footer = <>Please pick one or more days.</>;

  if (value.length > 0)
    footer = (
      <>
        You selected {value.length} days.{' '}
        <button onClick={handleResetClick}>Reset</button>
      </>
    );

  return (
    <DayPicker
      onDayClick={handleDayClick}
      modifiers={{ selected: value }}
      footer={footer}
    />
  );
}
```
