"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9167],{4649:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>u,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var n=t(651),a=t(2844),s=t(5728),o=t(218);const i={sidebar_position:5},l="Upgrading",c={id:"upgrading",title:"Upgrading",description:"Upgrade from v8 to v9",source:"@site/docs/upgrading.mdx",sourceDirName:".",slug:"/upgrading",permalink:"/next/upgrading",draft:!1,unlisted:!1,editUrl:"https://github.com/gpbl/react-day-picker/tree/main/website/docs/upgrading.mdx",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"docs",previous:{title:"Changelog",permalink:"/next/changelog"},next:{title:"License",permalink:"/next/license"}},u={},d=[{value:"Upgrade from v8 to v9",id:"upgrade-from-v8-to-v9",level:2},{value:"Checklist",id:"checklist",level:3},{value:"1. Upgrade to the next version",id:"1-upgrade-to-the-next-version",level:4},{value:"2. Update test selectors",id:"2-update-test-selectors",level:4},{value:"3. Formatters return type",id:"3-formatters-return-type",level:4},{value:"4. Rename deprecated typings",id:"4-rename-deprecated-typings",level:4},{value:"DayPickerProps requires the Mode argument",id:"daypickerprops-requires-the-mode-argument",level:5},{value:"Upgrade from v7 to v8",id:"upgrade-from-v7-to-v8",level:2}];function p(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"upgrading",children:"Upgrading"}),"\n",(0,n.jsx)(r.h2,{id:"upgrade-from-v8-to-v9",children:"Upgrade from v8 to v9"}),"\n",(0,n.jsxs)(r.p,{children:["This major version introduce some important breaking changes. See the ",(0,n.jsx)(r.a,{href:"/next/changelog",children:"changelog"})," for the full list of changes."]}),"\n",(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:["This document is still a work in progress. Please help us complete this guide by ",(0,n.jsx)(r.a,{href:"https://github.com/gpbl/react-day-picker/discussions/categories/daypicker-v9",children:"opening an issue"}),"."]})}),"\n",(0,n.jsx)(r.h3,{id:"checklist",children:"Checklist"}),"\n",(0,n.jsx)(r.p,{children:"Follow these steps to upgrade your project from v8 to v9:"}),"\n",(0,n.jsx)(r.h4,{id:"1-upgrade-to-the-next-version",children:"1. Upgrade to the next version"}),"\n",(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(o.Z,{value:"npm",children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"npm install react-day-picker@next date-fns\n"})})}),(0,n.jsx)(o.Z,{value:"yarn",label:"Yarn",children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"yarn add react-day-picker@next date-fns\n"})})}),(0,n.jsx)(o.Z,{value:"pnpm",label:"pnpm",children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"pnpm add react-day-picker@next date-fns\n"})})})]}),"\n",(0,n.jsx)(r.h4,{id:"2-update-test-selectors",children:"2. Update test selectors"}),"\n",(0,n.jsx)(r.p,{children:"The following ARIA labels have been updated:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"Week nr."})," to ",(0,n.jsx)(r.code,{children:"Week"})]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"Previous Month"})," and ",(0,n.jsx)(r.code,{children:"NextMonth"})]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"You may need to update your test selectors - for example:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-diff",children:"- screen.getByRole('button', 'Go to previous month');\n+ screen.getByRole('button', 'Previous Month');\n"})}),"\n",(0,n.jsx)(r.h4,{id:"3-formatters-return-type",children:"3. Formatters return type"}),"\n",(0,n.jsx)(r.p,{children:"The formatters now return a string instead of a ReactNode. If you were using the formatters in a React component, you may need to update your code:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-diff",children:"- const MyComponent = () => <DayPicker formatters={{ caption: () => <strong>My caption</strong> }} />;\n+ const MyComponent = () => <DayPicker formatters={{ caption: () => 'My caption' }} />;\n"})}),"\n",(0,n.jsx)(r.h4,{id:"4-rename-deprecated-typings",children:"4. Rename deprecated typings"}),"\n",(0,n.jsx)(r.p,{children:"Many typings have been deprecated in favor of clarity and shorter names. If you were using the typings, you may need to update your code or it will break in the next major version."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-diff",children:"- import { DayPickerDefaultProps } from 'react-day-picker';\n+ import { PropsDefault } from 'react-day-picker/types';\n"})}),"\n",(0,n.jsx)(r.h5,{id:"daypickerprops-requires-the-mode-argument",children:"DayPickerProps requires the Mode argument"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-diff",children:"- import { DayPickerProps } from 'react-day-picker';\n+ import { DayPickerProps, Mode } from 'react-day-picker';\n- const props: DayPickerProps<Mode>;       // pass the `Mode` argument\n+ const props: DayPickerProps<Mode>;\n"})}),"\n",(0,n.jsx)(r.hr,{}),"\n",(0,n.jsx)(r.h2,{id:"upgrade-from-v7-to-v8",children:"Upgrade from v7 to v8"}),"\n",(0,n.jsxs)(r.p,{children:["See the ",(0,n.jsx)(r.a,{href:"https://react-day-picker.js.org/upgrading",children:"migration guide"})," for the changes introduced in v8."]})]})}function h(e={}){const{wrapper:r}={...(0,a.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},218:(e,r,t)=>{t.d(r,{Z:()=>o});t(2379);var n=t(3048);const a={tabItem:"tabItem_FOZf"};var s=t(651);function o(e){let{children:r,hidden:t,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,n.Z)(a.tabItem,o),hidden:t,children:r})}},5728:(e,r,t)=>{t.d(r,{Z:()=>k});var n=t(2379),a=t(3048),s=t(1054),o=t(5900),i=t(3256),l=t(3247),c=t(8786),u=t(2862);function d(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:r,children:t}=e;return(0,n.useMemo)((()=>{const e=r??function(e){return d(e).map((e=>{let{props:{value:r,label:t,attributes:n,default:a}}=e;return{value:r,label:t,attributes:n,default:a}}))}(t);return function(e){const r=(0,c.l)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,t])}function h(e){let{value:r,tabValues:t}=e;return t.some((e=>e.value===r))}function m(e){let{queryString:r=!1,groupId:t}=e;const a=(0,o.k6)(),s=function(e){let{queryString:r=!1,groupId:t}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:r,groupId:t});return[(0,l._X)(s),(0,n.useCallback)((e=>{if(!s)return;const r=new URLSearchParams(a.location.search);r.set(s,e),a.replace({...a.location,search:r.toString()})}),[s,a])]}function g(e){const{defaultValue:r,queryString:t=!1,groupId:a}=e,s=p(e),[o,l]=(0,n.useState)((()=>function(e){let{defaultValue:r,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!h({value:r,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${r}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return r}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:r,tabValues:s}))),[c,d]=m({queryString:t,groupId:a}),[g,f]=function(e){let{groupId:r}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(r),[a,s]=(0,u.Nk)(t);return[a,(0,n.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:a}),v=(()=>{const e=c??g;return h({value:e,tabValues:s})?e:null})();(0,i.Z)((()=>{v&&l(v)}),[v]);return{selectedValue:o,selectValue:(0,n.useCallback)((e=>{if(!h({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),f(e)}),[d,f,s]),tabValues:s}}var f=t(8706);const v={tabList:"tabList_so7n",tabItem:"tabItem_TcIW"};var b=t(651);function x(e){let{className:r,block:t,selectedValue:n,selectValue:o,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.o5)(),u=e=>{const r=e.currentTarget,t=l.indexOf(r),a=i[t].value;a!==n&&(c(r),o(a))},d=e=>{let r=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;r=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;r=l[t]??l[l.length-1];break}}r?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":t},r),children:i.map((e=>{let{value:r,label:t,attributes:s}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:n===r?0:-1,"aria-selected":n===r,ref:e=>l.push(e),onKeyDown:d,onClick:u,...s,className:(0,a.Z)("tabs__item",v.tabItem,s?.className,{"tabs__item--active":n===r}),children:t??r},r)}))})}function y(e){let{lazy:r,children:t,selectedValue:a}=e;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(r){const e=s.find((e=>e.props.value===a));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map(((e,r)=>(0,n.cloneElement)(e,{key:r,hidden:e.props.value!==a})))})}function j(e){const r=g(e);return(0,b.jsxs)("div",{className:(0,a.Z)("tabs-container",v.tabList),children:[(0,b.jsx)(x,{...r,...e}),(0,b.jsx)(y,{...r,...e})]})}function k(e){const r=(0,f.Z)();return(0,b.jsx)(j,{...e,children:d(e.children)},String(r))}},2844:(e,r,t)=>{t.d(r,{Z:()=>i,a:()=>o});var n=t(2379);const a={},s=n.createContext(a);function o(e){const r=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);